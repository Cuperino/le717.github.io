---
title: Blog
layout: default
---

{% include scripts.html %}

<script>
  console.log("Loading blog feed from http://Triangle717.WordPress.com");

  $.getJSON("//public-api.wordpress.com/rest/v1/sites/triangle717.wordpress.com/posts/?number=1&callback=?", function (data) {
    "use strict";
    /* Based on example from http://jsfiddle.net/hLWdH/334/ */

    var postContent, postDate, postID, postTitle, postURL, postContainer;

    console.log("Number of blog posts downloaded: " + data.posts.length);

      data.posts.forEach(function(postDetails) {
      postContent = postDetails.content;
      postDate = postDetails.date;
      postID = postDetails.slug;
      postTitle = postDetails.title;
      postURL = postDetails.URL;
      postContainer = "#" + postID;

      console.log("Raw WP code: " + postContent);

      postContent = postContent.replace(/style=".+"/g, "");
      postContent = postContent.replace(/class='.+'/g, "");
      $(postContent).remove(".wp-smiley");
      console.log("WP code removed:\n" + postContent);


      $("body").append('<div class="centered" id="' + postID + '"></div>');
      $(postContainer).html(postContent);
    });

//    $(postContent).find("img").each(function() {
//    $("#20000-views").find("img").each(function() {
//      var $this = $(this);
//      $this.addClass("img-shadow");
//    });
  }, "json");



//    $('#title')
//      .html(data.posts[i].title);
//      .attr('href', data.posts[i].URL);
//    });
</script>
